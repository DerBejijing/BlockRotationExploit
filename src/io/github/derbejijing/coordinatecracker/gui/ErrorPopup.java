package io.github.derbejijing.coordinatecracker.gui;

import java.awt.Color;
import java.awt.Cursor;
import java.awt.Desktop;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.net.URI;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;

public class ErrorPopup extends JFrame {
	
	private static final long serialVersionUID = 2L;

	public void showPopup() {
		
		String helpURL = "https://www.github.com/DerBejijing/BlockRotationExploit/issues";
		
		JFrame frame = new ErrorPopup();
		frame.setSize(400, 130);
		frame.setTitle(":(");
		frame.getContentPane().setLayout(new java.awt.FlowLayout());
		frame.setResizable(false);
		frame.setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
		
		
		JLabel errorLabel = new JLabel("You fucked up.");
		JLabel errorLabel2 = new JLabel("You can report the issue ot get help under:");
		
		JLabel link = new JLabel(helpURL);
		link.setForeground(Color.BLUE);
		link.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
		link.addMouseListener(new MouseListener() {

			@Override
			public void mouseClicked(MouseEvent arg0) {
				try {
					Desktop.getDesktop().browse(new URI(helpURL));
				} catch(Exception e) {
					
				}
			}

			@Override
			public void mouseEntered(MouseEvent arg0) {}

			@Override
			public void mouseExited(MouseEvent arg0) {}

			@Override
			public void mousePressed(MouseEvent arg0) {}

			@Override
			public void mouseReleased(MouseEvent arg0) {}
			
		});
		
		JButton okButton = new JButton("Ok");
		okButton.addActionListener(new ActionListener() {

			@Override
			public void actionPerformed(ActionEvent arg0) {
				frame.dispose();
			}
		
		});
			
		frame.getContentPane().add(errorLabel);
		frame.getContentPane().add(errorLabel2);
		frame.getContentPane().add(link);
		frame.getContentPane().add(okButton);
		
		frame.setVisible(true);
	}
}
