package io.github.derbejijing.coordinatecracker.math;

import java.util.Arrays;

public class Matrix2 {

	private int[][] matrix;
	
	private final Vector2 size;
	private final Vector2 center;
	
	public Matrix2(Vector2 bounds, Vector2 center) {
		this.size = bounds;
		this.center = center;
		
		this.matrix = new int[bounds.getX()][bounds.getZ()];
	}

	public Matrix2(Matrix2 matrix) {
		this.size = matrix.getSize();
		this.center = matrix.getCenter();
		
		int[][] array = new int[size.getX()][size.getX()];
		for(int x = 0; x < size.getX(); x++) {
			for(int z = 0; z < size.getZ(); z++) {
				array[x][z] = matrix.getMatrixArray()[x][z];
			}
		}
		
		this.matrix = array;
	}

	public Matrix2(int[][] matrix, Vector2 center) {
		this.size = new Vector2(matrix.length, matrix[0].length);
		this.center = center;
		
		int[][] array = new int[this.size.getX()][this.size.getZ()];
		for(int x = 0; x < this.size.getX(); x++) {
			for(int z = 0; z < this.size.getZ(); z++) {
				array[x][z] = matrix[x][z];
			}
		}
		
		this.matrix = array;
	}
	
	public Vector2 getSize() {
		return this.size;
	}
	
	public int getSizeX() {
		return this.size.getX();
	}
	
	public int getSizeZ() {
		return this.size.getZ();
	}
	
	public Vector2 getCenter() {
		return this.center;
	}
	
	public int getCenterX() {
		return this.center.getX();
	}
	
	public int getCenterZ() {
		return this.center.getZ();
	}
	
	public int[][] getMatrixArray() {
		return this.matrix;
	}
	
	public int getValue(Vector2 index) {
		try {
			return this.matrix[index.getX()][index.getZ()];
		} catch(NullPointerException e) {
			e.printStackTrace();
			return 0;
		}
	}
	
	public String getString() {
		String lineSeparator = System.lineSeparator();
		StringBuilder sb = new StringBuilder();

		for (int[] row : this.matrix) {
			sb.append(Arrays.toString(row)).append(lineSeparator);
		}

		return sb.toString();
	}
	
	
	
	public void setMatrixArray(int[][] matrix) {
		this.matrix = matrix;
	}
	
	public void setValue(Vector2 index, int value) {
		this.matrix[index.getX()][index.getZ()] = value;
	}
	
}
